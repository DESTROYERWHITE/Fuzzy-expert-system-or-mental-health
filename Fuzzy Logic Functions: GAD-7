function fuzzify(score) {
    let membershipValues = {
        low: 0,
        mild: 0,
        moderate: 0,
        moderatelySevere: 0,
        high: 0
    };

    if (score >= 0 && score <= 3) {
        membershipValues.low = 1;
    }
    if (score >= 4 && score <= 7) {
        membershipValues.mild = 1;
    }
    if (score >= 8 && score <= 11) {
        membershipValues.moderate = 1;
    }
    if (score >= 12 && score <= 15) {
        membershipValues.moderatelySevere = 1;
    }
    if (score >= 16 && score <= 21) {
        membershipValues.high = 1;
    }

    return membershipValues;
}

function inference(score) {
    if (score >= 0 && score <= 3) {
        return "low";
    } else if (score >= 4 && score <= 7) {
        return "mild";
    } else if (score >= 8 && score <= 11) {
        return "moderate";
    } else if (score >= 12 && score <= 15) {
        return "moderately severe";
    } else if (score >= 16 && score <= 21) {
        return "highly severe";
    }
}

function defuzzify(membershipValues) {
    let numerator = 0;
    let denominator = 0;

    const riskLevels = {
        low: 1,
        mild: 2,
        moderate: 3,
        moderatelySevere: 4,
        high: 5
    };

    for (let risk in membershipValues) {
        numerator += membershipValues[risk] * riskLevels[risk];
        denominator += membershipValues[risk];
    }

    return numerator / denominator;
}

// Example usage:
let score = 13;
let membershipValues = fuzzify(score);
console.log("Membership Values: ", membershipValues);

let risk = inference(score);
console.log("Risk: ", risk);

let crispOutput = defuzzify(membershipValues);
console.log("Defuzzified Output: ", crispOutput);
